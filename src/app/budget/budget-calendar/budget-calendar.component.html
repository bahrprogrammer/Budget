<div class="d-flex flex-column">
  <div class="d-flex justify-content-around">
    <h2>{{monthYearDisplay}}</h2>
  </div>
  <div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">Sun</th>
          <th scope="col">Mon</th>
          <th scope="col">Tue</th>
          <th scope="col">Wed</th>
          <th scope="col">Thu</th>
          <th scope="col">Fri</th>
          <th scope="col">Sat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of calendarWeeks">
          <td *ngFor="let d of row" class="day-cell">
            <div *ngIf="d" class="d-flex">
              <div class="align-self-end text-left w-25">
                <span class="badge badge-pill badge-dark">{{d.day}}</span>
              </div>
              <div class="d-flex flex-column w-75">
                <ul *ngIf="d.dailyIncome.length > 0" class="list-unstyled m-0 text-right">
                  <li *ngFor="let item of d.dailyIncome" class="calendar-item income">
                    <span data-toggle="tooltip" data-placement="top" title="{{item.source}}: {{item.amount | currency}}">{{item.source}}: {{item.amount | currency}}</span>
                  </li>
                  <hr *ngIf="d.dailyExpenses.length > 0">
                </ul>
                <ul *ngIf="d.dailyExpenses.length > 0" class="list-unstyled m-0 text-right">
                  <li *ngFor="let item of d.dailyExpenses" class="calendar-item expense">
                    <span data-toggle="tooltip" data-placement="top" title="{{item.source}}: -{{item.amount | currency}}">{{item.source}}: -{{item.amount | currency}}</span>
                  </li>
                </ul>
                <div>
                  <hr *ngIf="d.dailyIncome.length > 0 || d.dailyExpenses.length > 0">
                  <span  data-toggle="tooltip" data-placement="top" title="Balance: {{d.dailyTotal | currency}}" class="badge badge-pill badge-success balance text-right">{{d.dailyTotal | currency}}</span>
                </div>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
