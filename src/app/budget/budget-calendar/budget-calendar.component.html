<div class="d-flex flex-column p-5">
  <div class="d-flex mb-3 justify-content-between">
    <div>
      <button class="mt-3 mr-3" mat-icon-button
              matTooltip="Previous month"
              matTooltipPosition="right">
              <span class="material-icons">navigate_before</span></button>
    </div>
    <div>
      <h2>{{monthYearDisplay}}</h2>
      <button mat-icon-button
              matTooltip="Print month"
              matTooltipPosition="left">
              <span class="material-icons">print</span></button>
    </div>
    <div>
      <button class="mt-3 mr-3" mat-icon-button
              matTooltip="Next month"
              matTooltipPosition="left">
              <span class="material-icons">navigate_next</span></button>
    </div>
  </div>
  <div class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">Sun</th>
          <th scope="col">Mon</th>
          <th scope="col">Tue</th>
          <th scope="col">Wed</th>
          <th scope="col">Thu</th>
          <th scope="col">Fri</th>
          <th scope="col">Sat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of calendarWeeks">
          <td *ngFor="let d of row" class="day-cell text-truncate">
            <div *ngIf="d" class="d-flex h-100">
              <div class="align-self-start text-left w-25">
                <span class="badge badge-pill badge-dark">{{d.day}}</span>
              </div>
              <div class="d-flex flex-column flex-fill h-100">
                <ul *ngIf="d.dailyIncome.length > 0" class="list-unstyled m-0 text-right">
                  <li *ngFor="let item of d.dailyIncome" class="calendar-item">
                    <span data-toggle="tooltip" data-placement="top" title="{{item.source}}: {{item.amount | currency}}">{{item.source}}: {{item.amount | currency}}</span>
                  </li>
                  <hr *ngIf="d.dailyExpenses.length > 0">
                </ul>
                <ul *ngIf="d.dailyExpenses.length > 0" class="list-unstyled m-0 text-right">
                  <li *ngFor="let item of d.dailyExpenses" class="calendar-item">
                    <span data-toggle="tooltip" data-placement="top" title="{{item.source}}: -{{item.amount | currency}}">{{item.source}}: -{{item.amount | currency}}</span>
                  </li>
                </ul>
                <div class="mt-auto ml-auto">
                  <hr *ngIf="d.dailyIncome.length > 0 || d.dailyExpenses.length > 0">
                  <span data-toggle="tooltip" data-placement="top" title="Balance: {{d.dailyTotal | currency}}" class="badge badge-pill badge-success calendar-item text-right">{{d.dailyTotal | currency}}</span>
                </div>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
